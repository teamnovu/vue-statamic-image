var StatamicImage=function(t,e){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(e);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,r,i,n,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(i,n)}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],i=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function u(t,e,r,i,n,o,a,s,c,u){"boolean"!=typeof a&&(c=s,s=a,a=!1);const l="function"==typeof r?r.options:r;let d;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,n&&(l.functional=!0)),i&&(l._scopeId=i),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=d):e&&(d=a?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),d)if(l.functional){const t=l.render;l.render=function(e,r){return d.call(r),t(e,r)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,d):[d]}return r}var l=u({render:function(){var t=this.$createElement,e=this._self._c||t;return this.fileTypeSupported?e("img",{ref:"imageRef",attrs:{src:this.originalUrl,srcset:this.imgSrcSet,sizes:this.sizes,width:"100%"},on:{load:this.onLoaded}}):e("img",{attrs:{src:this.originalUrl,width:"100%"}})},staticRenderFns:[]},void 0,{props:{src:{required:!0,type:String},quality:{required:!1,type:Number,default:70},blur:{required:!1,type:Number},fit:{required:!1,type:String},crop:{required:!1,type:String},format:{required:!1,type:String},fallbackWidth:{required:!1,type:Number},aspectRatio:{required:!1,type:Number},placeholderBlur:{required:!1,default:100,type:Number},placeholderQuality:{required:!1,default:30,type:Number},placeholderWidth:{required:!1,type:Number,default:400},usePlaceholder:{required:!1,default:!0,type:Boolean},placeholderDataUrl:{required:!1,type:String}},data:function(){return{sizes:"1px",isLoading:!0}},created:function(){var t=Object.entries(this.$screenSizes).map((function(t){var e=s(t,2),r=e[0],i=e[1];return{breakpoint:r,media:"min-width: ".concat(i),size:i}})).sort((function(t,e){return+e.size.replace("px","")-+t.size.replace("px","")}));this.screens=t},mounted:function(){window.addEventListener("resize",this.onResize,{passive:!0})},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{updateSizes:function(){var t=this;return new Promise((function(e){window.requestAnimationFrame((function(){if(t.$refs.imageRef){var r=t.$refs.imageRef.getBoundingClientRect().width,i=Math.ceil(r/window.innerWidth*100);t.sizes="".concat(i,"vw")}e()}))}))},onResize:function(){this.updateSizes()},onLoaded:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateSizes();case 2:e.isLoading=!1;case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(i,n){var a=t.apply(e,r);function s(t){o(a,i,n,s,c,"next",t)}function c(t){o(a,i,n,s,c,"throw",t)}s(void 0)}))})()},generateSrc:function(t){var e=t.quality,r=t.width,n=t.aspectRatio,o=t.blur,a=(t.addSrcSetWidth,t.fit),s=t.crop,c=t.format;if(!this.fileTypeSupported||!this.$statamicGlideApiEndpoint)return i.default(this.$statamicBaseUrl,this.src);var u=[];return r&&u.push("w=".concat(r)),r&&n&&u.push("h=".concat(Math.round(r/n))),e&&u.push("=".concat(e)),o&&u.push("blur=".concat(o)),a&&u.push("fit=".concat(a)),s&&u.push("fit=".concat(s)),c&&u.push("format=".concat(c)),i.default(this.$statamicBaseUrl,this.$statamicGlideApiEndpoint,this.src,"?".concat(u.join("&")))}},computed:{fileTypeSupported:function(){var t=/(?:\.([^.]+))?$/.exec(this.src)[1];return t&&["jpg","png","gif","webp"].includes(t.toLowerCase())},imgSrcSet:function(){var t=this,e=this.screens.map((function(t){return t.size.replace("px","")})).map((function(e){return t.generateSrc({width:e,quality:t.quality,fit:t.fit,format:t.format,crop:t.crop,aspectRatio:t.aspectRatio})+" ".concat(e,"w")}));return this.usePlaceholder&&e.push(this.placeholderUrl+" 32w"),e.join(",")},originalUrl:function(){return this.generateSrc({quality:this.quality,blur:this.blur,width:this.fallbackWidth,fit:this.fit,format:this.format,aspectRatio:this.aspectRatio,crop:this.crop})},placeholderUrl:function(){var t;return this.placeholderDataUrl&&!this.aspectRatio?this.placeholderDataUrl:this.generateSrc((a(t={blur:this.placeholderBlur,aspectRatio:this.aspectRatio,quality:this.placeholderQuality,width:this.placeholderWidth,fit:this.fit,format:this.format},"aspectRatio",this.aspectRatio),a(t,"crop",this.crop),t))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),d={xs:"320px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1600px","3xl":"2000px"},p=function(t,e){if(!p.installed){p.installed=!0;var r,i=e.screenSizes,o=e.statamicGlideApiEndpoint,a=e.statamicBaseUrl;if(i&&("object"===n(r=i)&&null!==r)&&0!==Object.keys(i).length||(i=d),!a||"string"===!n(a)||!a instanceof String||0===a.length)throw new Error("statamicBaseUrl was not properly configured.");void 0===o&&(o="/img"),t.prototype.$screenSizes=i,t.prototype.$statamicGlideApiEndpoint=o,t.prototype.$statamicBaseUrl=a,t.component("StatamicImage",l)}},f={install:p},h=null;return"undefined"!=typeof window?h=window.Vue:"undefined"!=typeof global&&(h=global.Vue),h&&h.use(f),l.install=p,t.default=l,Object.defineProperty(t,"__esModule",{value:!0}),t}({},urlJoin);